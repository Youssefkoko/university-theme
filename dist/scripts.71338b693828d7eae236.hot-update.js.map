{"version":3,"sources":["webpack:///./js/modules/Search.js"],"names":["Search","constructor","resultsDiv","$","openButton","closeButton","searchOverlay","searchField","typingTimer","isSpinnerVisibale","previousValue","events","isOverlayOpen","on","openOverlay","bind","closeOverlay","document","keyPressToggle","typingLogic","val","clearTimeout","html","setTimeout","getResults","getJSON","themeData","root_url","data","length","map","item","link","title","rendered","join","e","keyCode","is","addClass","removeClass"],"mappings":"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","file":"scripts.71338b693828d7eae236.hot-update.js","sourcesContent":["import $ from 'jquery';\r\nclass Search {\r\n  // Descripe or Initiate or Create the Object\r\n  constructor(){\r\n    this.resultsDiv = $('#search-overlay__results');\r\n    this.openButton = $('.js-search-trigger');\r\n    this.closeButton = $('.search-overlay__close');\r\n    this.searchOverlay = $('.search-overlay');\r\n    this.searchField = $('#search-term');\r\n    this.typingTimer;\r\n    this.isSpinnerVisibale = false;\r\n    this.previousValue;\r\n    this.events();\r\n    this.isOverlayOpen = false;\r\n  }\r\n  // 2. Events\r\n  events(){\r\n    this.openButton.on('click', this.openOverlay.bind(this));\r\n    this.closeButton.on('click', this.closeOverlay.bind(this));\r\n    $(document).on('keydown', this.keyPressToggle.bind(this));\r\n    this.searchField.on('keyup', this.typingLogic.bind(this));\r\n  }\r\n  // 3. Methods (Functions, Action .. )\r\n  typingLogic(){\r\n    // check if field does not change its value if so then the Spinner can work\r\n    if(this.searchField.val() !== this.previousValue){\r\n      clearTimeout(this.typingTimer);\r\n      if(this.searchField.val()){\r\n        if(!this.isSpinnerVisibale){\r\n          this.resultsDiv.html('<div class=\"spinner-loader\"></div>')\r\n          this.isSpinnerVisibale = true;\r\n        }    \r\n        this.typingTimer = setTimeout(this.getResults.bind(this), 1500);\r\n      }else{\r\n        this.resultsDiv.html('');\r\n        this.isSpinnerVisibale = false;\r\n      }\r\n      // end if \r\n    }\r\n    this.previousValue = this.searchField.val();\r\n  }\r\n  getResults(){\r\n    $.getJSON( themeData.root_url + '/wp-json/wp/v2/posts?search='+ this.searchField.val(), data => {\r\n    \r\n    this.resultsDiv.html(`\r\n    <h2>General Information: </h2>\r\n      ${data.length ? `<ul class=\"link-list min-list\" >` : `<p>No Search Found.</p>`}\r\n\r\n        ${data.map(item => `\r\n          <li> \r\n            <a href=\"${item.link}\">${item.title.rendered}</a>\r\n          </li>` \r\n        ).join('')}\r\n      \r\n      ${data.length ? `</ul>` : ''}\r\n    `);\r\n    isSpinnerVisibale = false;\r\n    });\r\n\r\n  }\r\n  keyPressToggle(e){\r\n// check the key code and OverLay is not Open and if the input fields are NOT focus\r\n    if(e.keyCode == 83 && !this.isOverlayOpen && !$('input, textarea').is(':focus')){\r\n      this.openOverlay();\r\n    }\r\n    if(e.keyCode == 27 &&  this.isOverlayOpen){\r\n      this.closeOverlay();\r\n    }\r\n  }\r\n  openOverlay(){\r\n    this.searchOverlay.addClass('search-overlay--active');\r\n    $('body').addClass('body-no-scroll');\r\n    \r\n    this.isOverlayOpen = true;\r\n  }\r\n  closeOverlay(){\r\n  this.searchOverlay.removeClass('search-overlay--active');\r\n  $('body').removeClass('body-no-scroll');\r\n  this.isOverlayOpen = false;\r\n}\r\n} export default Search;"],"sourceRoot":""}