{"version":3,"sources":["webpack:///./js/modules/MyNotes.js"],"names":["Notes","constructor","deleteBtn","document","querySelectorAll","ul","querySelector","editBtn","updateBtn","submitBtn","console","log","events","$","on","deleteNote","editNote","bind","updateNote","createNote","e","thisNote","target","parent","data","makeNoteReadOnly","makeNoteEditable","find","html","removeAttr","addClass","attr","removeClass","ajax","beforeSend","xhr","setRequestHeader","themeData","nonce","url","root_url","type","success","response","slideUp","error","updatePost","val","newNoteTitle","newNoteBody","newPost","res","id","title","rendered","content","prependTo","hide","slideDown"],"mappings":"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","file":"scripts.a91206f8d1813d01eb74.hot-update.js","sourcesContent":["import $ from 'jquery'\r\n\r\nclass Notes {\r\n  constructor() {\r\n    this.deleteBtn = document.querySelectorAll(\".delete-note\");\r\n    this.ul = document.querySelector(\"#my-notes\");\r\n    this.editBtn = document.querySelectorAll(\".edit-note\");\r\n    this.updateBtn = document.querySelector('.update-note');\r\n    this.submitBtn = document.querySelector('.submit-note');\r\n    console.log(this.submitBtn);\r\n    this.events();\r\n    \r\n  }\r\n  events() {\r\n    $(this.ul).on('click', '.delete-note', this.deleteNote)\r\n    \r\n    $(this.ul).on('click', '.edit-note', this.editNote.bind(this))\r\n    \r\n    $(this.ul).on('click', '.update-note', this.updateNote.bind(this))\r\n    \r\n    $(this.ul).on('click', this.createNote())\r\n    \r\n    \r\n  }\r\n\r\n\r\n  // Methods\r\n  editNote(e){\r\n    let thisNote = $(e.target).parent('li');\r\n    if(thisNote.data('state') == 'editable'){\r\n      // make read only\r\n      this.makeNoteReadOnly(thisNote);\r\n    }else{\r\n      // make editable\r\n      this.makeNoteEditable(thisNote);\r\n    }\r\n\r\n  }\r\n  makeNoteEditable(thisNote){\r\n    thisNote.find('.edit-note').html('<i class=\"fa fa-times\" aria-hidden=\"true\"></i> Cancel')\r\n    thisNote.find('.note-title-field, .note-body-field').removeAttr('readonly').addClass('note-active-field');\r\n    thisNote.find('.update-note').addClass('update-note--visible');\r\n    thisNote.data('state', 'editable');\r\n  }\r\n\r\n  makeNoteReadOnly(thisNote){\r\n    thisNote.find('.edit-note').html('<i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> Edit')\r\n    thisNote.find('.note-title-field, .note-body-field').attr('readonly', 'readonly').removeClass('note-active-field');\r\n    thisNote.find('.update-note').removeClass('update-note--visible');\r\n    thisNote.data('state', 'cancel');\r\n  }\r\n\r\n\r\n  deleteNote(e) {\r\n    let thisNote = $(e.target).parent('li');\r\n      $.ajax({\r\n        beforeSend: (xhr) => {\r\n          xhr.setRequestHeader('X-WP-Nonce', themeData.nonce);\r\n        },\r\n        url: themeData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n        type: 'DELETE',\r\n        success: (response) => {\r\n          thisNote.slideUp();\r\n          console.log('success');\r\n          console.log(response);\r\n        },\r\n        error: (response) => {\r\n          console.log('error');\r\n          console.log(response);\r\n        },\r\n      })\r\n  }\r\n  updateNote(e) {\r\n    let thisNote = $(e.target).parent('li');\r\n    let updatePost = {\r\n      'title': thisNote.find('.note-title-field').val(),\r\n      'content': thisNote.find('.note-body-field').val(),\r\n    }\r\n      $.ajax({\r\n        beforeSend: (xhr) => {\r\n          xhr.setRequestHeader('X-WP-Nonce', themeData.nonce);\r\n        },\r\n        url: themeData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n        type: 'POST',\r\n        data: updatePost,\r\n        success: (response) => {\r\n          this.makeNoteReadOnly(thisNote)\r\n          console.log('success');\r\n          console.log(response);\r\n        },\r\n        error: (response) => {\r\n          console.log('error');\r\n          console.log(response);\r\n        },\r\n      })\r\n  }\r\n\r\n  createNote(e) {\r\n    let newNoteTitle = $('.new-note-title').val();\r\n    let newNoteBody = $('.new-note-body').val();\r\n    if(newNoteTitle !== '' && newNoteBody !== ''){\r\n      let newPost = {\r\n        'title': newNoteTitle,\r\n        'content': newNoteBody,\r\n        'status': 'publish',\r\n      }\r\n        $.ajax({\r\n          beforeSend: (xhr) => {\r\n            xhr.setRequestHeader('X-WP-Nonce', themeData.nonce);\r\n          },\r\n          url: themeData.root_url + '/wp-json/wp/v2/note/',\r\n          type: 'POST',\r\n          data: newPost,\r\n          success: (res) => {\r\n            console.log(res)\r\n            $('.new-note-title, .new-note-body').val('');\r\n            $(`\r\n            <li data-id=\"${res.id}\">\r\n            <input readonly class=\"note-title-field\" type=\"text\" value=\"${res.title.rendered}\" />\r\n            <span class=\"edit-note\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> Edit</span>\r\n            <span class=\"delete-note\"><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i> Delete</span>\r\n            <textarea readonly class=\"note-body-field\" name=\"\" id=\"\" cols=\"30\"\r\n              rows=\"10\">\r\n              ${res.content.rendered}\r\n            </textarea>\r\n              \r\n            <span class=\"update-note btn btn--blue btn--small\"><i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i> Save</span>\r\n          </li>\r\n            `).prependTo('#my-notes').hide().slideDown();\r\n            console.log('success YEEEY');\r\n            \r\n          },\r\n          error: (response) => {\r\n            console.log('error');\r\n            console.log(response);\r\n          },\r\n        })\r\n\r\n      // end if\r\n    }\r\n    \r\n  }\r\n\r\n }\r\n\r\n export default Notes;"],"sourceRoot":""}