{"version":3,"sources":["webpack:///./js/modules/MyNotes.js"],"names":["Notes","constructor","deleteBtn","document","querySelectorAll","editBtn","updateBtn","querySelector","submitBtn","console","log","events","forEach","btn","addEventListener","e","deleteNote","editNote","updateNote","createNote","thisNote","$","target","parent","data","makeNoteReadOnly","makeNoteEditable","find","html","removeAttr","addClass","attr","removeClass","ajax","beforeSend","xhr","setRequestHeader","themeData","nonce","url","root_url","type","success","response","slideUp","error","updatePost","val"],"mappings":"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","file":"scripts.3d50fff63ac202dda114.hot-update.js","sourcesContent":["import $ from 'jquery'\r\n\r\nclass Notes {\r\n  constructor() {\r\n    this.deleteBtn = document.querySelectorAll(\".delete-note\");\r\n    this.editBtn = document.querySelectorAll(\".edit-note\");\r\n    this.updateBtn = document.querySelector('.update-note');\r\n    this.submitBtn = document.querySelector('.submit-note');\r\n    console.log(this.submitBtn);\r\n    this.events();\r\n    \r\n  }\r\n  events() {\r\n    \r\n    // const deleteBtn =  Array.from(this.deleteNote);\r\n    this.deleteBtn.forEach( (btn) => {\r\n      btn.addEventListener('click', (e) =>{\r\n        this.deleteNote(e)\r\n      })\r\n    })\r\n    // End\r\n    this.editBtn.forEach( (btn) => {\r\n      btn.addEventListener('click', (e) =>{\r\n        this.editNote(e)\r\n      })\r\n    })\r\n    // End \r\n    this.updateBtn.addEventListener('click', (e) =>{\r\n        this.updateNote(e)\r\n      })\r\n    this.submitBtn.addEventListener('click', (e) =>{\r\n        this.createNote(e)\r\n      })\r\n    \r\n  }\r\n\r\n\r\n  // Methods\r\n  editNote(e){\r\n    let thisNote = $(e.target).parent('li');\r\n    if(thisNote.data('state') == 'editable'){\r\n      // make read only\r\n      this.makeNoteReadOnly(thisNote);\r\n    }else{\r\n      // make editable\r\n      this.makeNoteEditable(thisNote);\r\n    }\r\n\r\n  }\r\n  makeNoteEditable(thisNote){\r\n    thisNote.find('.edit-note').html('<i class=\"fa fa-times\" aria-hidden=\"true\"></i> Cancel')\r\n    thisNote.find('.note-title-field, .note-body-field').removeAttr('readonly').addClass('note-active-field');\r\n    thisNote.find('.update-note').addClass('update-note--visible');\r\n    thisNote.data('state', 'editable');\r\n  }\r\n\r\n  makeNoteReadOnly(thisNote){\r\n    thisNote.find('.edit-note').html('<i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> Edit')\r\n    thisNote.find('.note-title-field, .note-body-field').attr('readonly', 'readonly').removeClass('note-active-field');\r\n    thisNote.find('.update-note').removeClass('update-note--visible');\r\n    thisNote.data('state', 'cancel');\r\n  }\r\n\r\n\r\n  deleteNote(e) {\r\n    let thisNote = $(e.target).parent('li');\r\n      $.ajax({\r\n        beforeSend: (xhr) => {\r\n          xhr.setRequestHeader('X-WP-Nonce', themeData.nonce);\r\n        },\r\n        url: themeData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n        type: 'DELETE',\r\n        success: (response) => {\r\n          thisNote.slideUp();\r\n          console.log('success');\r\n          console.log(response);\r\n        },\r\n        error: (response) => {\r\n          console.log('error');\r\n          console.log(response);\r\n        },\r\n      })\r\n  }\r\n  updateNote(e) {\r\n    let thisNote = $(e.target).parent('li');\r\n    let updatePost = {\r\n      'title': thisNote.find('.note-title-field').val(),\r\n      'content': thisNote.find('.note-body-field').val(),\r\n    }\r\n      $.ajax({\r\n        beforeSend: (xhr) => {\r\n          xhr.setRequestHeader('X-WP-Nonce', themeData.nonce);\r\n        },\r\n        url: themeData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n        type: 'POST',\r\n        data: updatePost,\r\n        success: (response) => {\r\n          this.makeNoteReadOnly(thisNote)\r\n          console.log('success');\r\n          console.log(response);\r\n        },\r\n        error: (response) => {\r\n          console.log('error');\r\n          console.log(response);\r\n        },\r\n      })\r\n  }\r\n\r\n  createNote(e) {\r\n    \r\n    let updatePost = {\r\n      'title': $('.new-title-note').val(),\r\n      'content': $('.new-note-body').val(),\r\n    }\r\n      $.ajax({\r\n        beforeSend: (xhr) => {\r\n          xhr.setRequestHeader('X-WP-Nonce', themeData.nonce);\r\n        },\r\n        url: themeData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n        type: 'POST',\r\n        data: updatePost,\r\n        success: (response) => {\r\n          this.makeNoteReadOnly(thisNote)\r\n          console.log('success');\r\n          console.log(response);\r\n        },\r\n        error: (response) => {\r\n          console.log('error');\r\n          console.log(response);\r\n        },\r\n      })\r\n  }\r\n\r\n }\r\n\r\n export default Notes;"],"sourceRoot":""}